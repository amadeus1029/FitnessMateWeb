<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="exercise">
    <select id="showList" resultType="ExVo">
        <![CDATA[
            select  partNo as exPartNo,
                    partName as exPartName
            from    ex_part
            order by partNo asc
        ]]>
    </select>
    <select id="getList" parameterType="int" resultType="ExVo">
        <![CDATA[
            select  ex.exerciseNo as exNo,
                    ex.exerciseName as exName,
                    p.partName as exPartName,
                    ex.amount as amount
            from    exercise ex, ex_part p
            where   ex.trainerNo = #{trainerNo}
            and     ex.exercisepart = p.partNo
            order by ex.exerciseNo asc
        ]]>
    </select>
    <select id="selectByNo" parameterType="int" resultType="ExVo">
        <![CDATA[
            select  ex.exerciseNo as exNo,
                    ex.exerciseName as exName,
                    p.partName as exPartName,
                    ex.amount as amount
            from    exercise ex, ex_part p
            where   ex.exerciseNo = #{exNo}
            and     ex.exercisepart = p.partNo
        ]]>
    </select>
    <insert id="insertSelectKey" parameterType="ExVo">
        <selectKey keyProperty="exNo" resultType="int" order="BEFORE">
            <![CDATA[
                select seq_exerciseno.nextVal from dual
            ]]>
        </selectKey>
        <![CDATA[
            insert into exercise
            values(#{exNo}, #{trainerNo}, #{exName}, #{exPartNo}, #{amount})
        ]]>
    </insert>
    <delete id="delete" parameterType="ExVo">
        <![CDATA[
            delete exercise
            where exerciseNo = #{exNo} and trainerNo = #{trainerNo}
        ]]>
    </delete>
</mapper>

        <!--
        <![CDATA[
        ]]>
        -->